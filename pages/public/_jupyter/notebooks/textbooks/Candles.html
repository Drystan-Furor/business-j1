  <div class="cell text_cell">
    <button class="js-nbinteract-widget">
      Loading widgets...
    </button>
  </div>




  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">bqplot.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>

    </div>
</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">price_data1</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-02 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">161.31</span><span class="p">,</span> <span class="mf">163.31</span><span class="p">,</span> <span class="mf">161.0</span><span class="p">,</span> <span class="mf">162.06</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-05 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">161.27</span><span class="p">,</span> <span class="mf">161.27</span><span class="p">,</span> <span class="mf">159.19</span><span class="p">,</span> <span class="mf">159.51</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-06 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">159.67</span><span class="p">,</span> <span class="mf">159.96</span><span class="p">,</span> <span class="mf">155.17</span><span class="p">,</span> <span class="mf">156.07</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-07 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">157.2</span><span class="p">,</span> <span class="mf">157.2</span><span class="p">,</span> <span class="mf">154.03</span><span class="p">,</span> <span class="mf">155.05</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-08 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">156.24</span><span class="p">,</span> <span class="mf">159.044</span><span class="p">,</span> <span class="mf">155.55</span><span class="p">,</span> <span class="mf">158.42</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-09 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">158.42</span><span class="p">,</span> <span class="mf">160.34</span><span class="p">,</span> <span class="mf">157.25</span><span class="p">,</span> <span class="mf">159.11</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-12 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">159.0</span><span class="p">,</span> <span class="mf">159.25</span><span class="p">,</span> <span class="mf">155.76</span><span class="p">,</span> <span class="mf">156.44</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-13 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">157.26</span><span class="p">,</span> <span class="mf">159.97</span><span class="p">,</span> <span class="mf">155.68</span><span class="p">,</span> <span class="mf">156.81</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-14 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">154.86</span><span class="p">,</span> <span class="mf">156.49</span><span class="p">,</span> <span class="mf">153.74</span><span class="p">,</span> <span class="mf">155.8</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-15 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">156.69</span><span class="p">,</span> <span class="mf">156.97</span><span class="p">,</span> <span class="mf">154.16</span><span class="p">,</span> <span class="mf">154.57</span><span class="p">]],</span>
<span class="p">]</span>

<span class="n">price_data2</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-02 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">111.39</span><span class="p">,</span> <span class="mf">111.44</span><span class="p">,</span> <span class="mf">107.35</span><span class="p">,</span> <span class="mf">109.33</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-05 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">108.29</span><span class="p">,</span> <span class="mf">108.65</span><span class="p">,</span> <span class="mf">105.41</span><span class="p">,</span> <span class="mf">106.25</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-06 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">106.54</span><span class="p">,</span> <span class="mf">107.43</span><span class="p">,</span> <span class="mf">104.63</span><span class="p">,</span> <span class="mf">106.26</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-07 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">107.2</span><span class="p">,</span> <span class="mf">108.2</span><span class="p">,</span> <span class="mf">106.695</span><span class="p">,</span> <span class="mf">107.75</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-08 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">109.23</span><span class="p">,</span> <span class="mf">112.15</span><span class="p">,</span> <span class="mf">108.7</span><span class="p">,</span> <span class="mf">111.89</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-09 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">112.67</span><span class="p">,</span> <span class="mf">113.25</span><span class="p">,</span> <span class="mf">110.21</span><span class="p">,</span> <span class="mf">112.01</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-12 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">112.6</span><span class="p">,</span> <span class="mf">112.63</span><span class="p">,</span> <span class="mf">108.8</span><span class="p">,</span> <span class="mf">109.25</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-13 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">111.43</span><span class="p">,</span> <span class="mf">112.8</span><span class="p">,</span> <span class="mf">108.91</span><span class="p">,</span> <span class="mf">110.22</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-14 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">109.04</span><span class="p">,</span> <span class="mf">110.49</span><span class="p">,</span> <span class="mf">108.5</span><span class="p">,</span> <span class="mf">109.8</span><span class="p">]],</span>
    <span class="p">[</span><span class="s2">&quot;2015-01-15 00:00:00&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">110.0</span><span class="p">,</span> <span class="mf">110.06</span><span class="p">,</span> <span class="mf">106.66</span><span class="p">,</span> <span class="mf">106.82</span><span class="p">]],</span>
<span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Split up the data into x and y points</span>
<span class="kn">from</span> <span class="nn">bqplot.traits</span> <span class="kn">import</span> <span class="n">convert_to_date</span>

<span class="n">dates1</span> <span class="o">=</span> <span class="n">convert_to_date</span><span class="p">([</span><span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">price_data1</span><span class="p">])</span>
<span class="n">prices1</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">price_data1</span><span class="p">]</span>

<span class="n">dates2</span> <span class="o">=</span> <span class="n">convert_to_date</span><span class="p">([</span><span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">price_data2</span><span class="p">])</span>
<span class="n">prices2</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">price_data2</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">axes_options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;X&quot;</span><span class="p">},</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Y&quot;</span><span class="p">}}</span>
<span class="n">ohlc1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">ohlc</span><span class="p">(</span>
    <span class="n">dates1</span><span class="p">,</span>
    <span class="n">prices1</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;candle&quot;</span><span class="p">,</span>
    <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;ohlc&quot;</span><span class="p">,</span>
    <span class="n">stroke</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span>
    <span class="n">display_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;IBM US Equity&quot;</span><span class="p">],</span>
    <span class="n">axes_options</span><span class="o">=</span><span class="n">axes_options</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">ohlc2</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">ohlc</span><span class="p">(</span>
    <span class="n">dates2</span><span class="p">,</span>
    <span class="n">prices2</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">],</span>
    <span class="n">stroke</span><span class="o">=</span><span class="s2">&quot;orange&quot;</span><span class="p">,</span>
    <span class="n">display_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;AAPL US Equity&quot;</span><span class="p">],</span>
    <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;ohlc&quot;</span><span class="p">,</span>
    <span class="n">axes_options</span><span class="o">=</span><span class="n">axes_options</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>

    </div>
</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ohlc1</span><span class="o">.</span><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">bqplot</span> <span class="kn">import</span> <span class="n">LogScale</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="c1"># use log scale for x</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scales</span><span class="p">(</span><span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">LogScale</span><span class="p">()})</span>
<span class="n">axes_options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;X&quot;</span><span class="p">},</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="s2">&quot;tick_format&quot;</span><span class="p">:</span> <span class="s2">&quot;.2f&quot;</span><span class="p">}}</span>
<span class="n">ohlc3</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">ohlc</span><span class="p">(</span>
    <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dates2</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">prices2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">60</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">],</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>

    </div>
</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ohlc3</span><span class="o">.</span><span class="n">marker</span> <span class="o">=</span> <span class="s2">&quot;candle&quot;</span>
</pre></div>

    </div>
</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="OHLC-with-Ordinal-Scale">OHLC with Ordinal Scale<a class="anchor-link" href="#OHLC-with-Ordinal-Scale">&#182;</a></h2>
</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">bqplot</span> <span class="kn">import</span> <span class="n">OrdinalScale</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scales</span><span class="p">(</span><span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">OrdinalScale</span><span class="p">()})</span>
<span class="n">axes_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="s2">&quot;tick_format&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">-%m-%Y&quot;</span><span class="p">},</span>
    <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="s2">&quot;tick_format&quot;</span><span class="p">:</span> <span class="s2">&quot;.2f&quot;</span><span class="p">},</span>
<span class="p">}</span>

<span class="n">ohlc3</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">ohlc</span><span class="p">(</span>
    <span class="n">dates2</span><span class="p">,</span>
    <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">prices2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">60</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;candle&quot;</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">],</span>
    <span class="n">axes_options</span><span class="o">=</span><span class="n">axes_options</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">fig</span>
</pre></div>

    </div>
</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ohlc3</span><span class="o">.</span><span class="n">opacities</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

  </div>

